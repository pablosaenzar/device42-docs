---
title: "Warranty Autodiscovery"
sidebar_position: 37
---

import ThemedImage from '@theme/ThemedImage'
import useBaseUrl from '@docusaurus/useBaseUrl'

# Discover Warranty Details with Device42

Device42 supports autodiscovery of hardware warranties, making tracking within Device42 a breeze.

The Device42 warranty autodiscovery and management tools will find and help you keep track of your hardware warranties from Dell, IBM, Lenovo, and Meraki. The functionality originally started as a standalone script, which still functions, and is now integrated into the main UI – select _Discovery > Warranty Sync_ from the main menu.

<ThemedImage
  alt="Warranty sync menu"
  sources={{
    light: useBaseUrl('/assets/images/discover-warranty-menu-light.png'),
    dark: useBaseUrl('/assets/images/discover-warranty-menu-dark.png'),
  }}
/>

To configure automatic warranty discovery, you'll need to simply request API keys from the vendors that require them (currently Dell and Meraki), and once you've provided Device42 with your API access keys, simply let Device42 loose! As long as your device CIs have a model and serial number present so Device42 knows what vendor to ask, and the ID of the machine, warranty autodiscovery does the rest, automatically discovering and populating your hardware's service contract information.

## Detailed Warranty Sync Instructions

**Supported Vendors:**

- Dell
- IBM
- Lenovo
- Meraki
- Cisco (Preview)

**Note**: Cisco Warranty Discovery is a preview feature of Device42 v18.01.00.

### API Keys, Configuration and Prerequisites:

1. For the script to successfully retrieve warranty information for a given device, the device’s model and serial number fields must be correctly filled out (entered or discovered). If you have more than one Vendor entry for a given vendor, the best option is to merge them prior to discovery. For example, to merge all lexical variations of "Dell" into a single vendor, head to _Infrastructure -> Vendors_ and check the boxes next to all variations of 'dell': 


<ThemedImage
  alt="Merge lexically similar vendors"
  sources={{
    light: useBaseUrl('/assets/images/discover-warranty-merge-light.png'),
    dark: useBaseUrl('/assets/images/discover-warranty-merge-dark.png'),
  }}
  
/>
<br/><br/>

2. The Device42 _Model field_ must be set to one of the following: _Dell, IBM, Lenovo, or Meraki_ – hardware with different vendor name variations will not return a warranty. You can easily add the proper Alias to each vendor if your vendors are named differently. On the vendor edit screen, simply add _dell_ to the Dell vendor entry, _ibm_ for IBM, _meraki_ for Meraki, and finally _lenovo_ to the Lenovo vendor entry: 

<ThemedImage
  alt="Edit vendor"
  sources={{
    light: useBaseUrl('/assets/images/discover-warranty-vendor-light.png'),
    dark: useBaseUrl('/assets/images/discover-warranty-vendor-dark.png'),
  }}
/>

<ThemedImage
  alt="Add vendor aliases"
  sources={{
    light: useBaseUrl('/assets/images/discover-warranty-vendor-aliases-light.png'),
    dark: useBaseUrl('/assets/images/discover-warranty-vendor-aliases-dark.png'),
  }}
/>
<br/><br/>

3. Get your API keys:

    **Dell API key**: Instructions for obtaining a Dell API key are available (this moved to TechDirect, now requires a valid Dell login) from here: [TechDirect APIs](https://tdm.dell.com/td-auth?lang=en_UShttps://techdirect.dell.com/Portal/Login.aspx?ReturnUrl=%2Fportal%2FAboutAPIs.aspxtdLegacyUrl=%2Fportal%2FAboutAPIs.aspx).

    **Meraki API keys**: A Meraki API key must be obtained to enable Device42 to retrieve warranty information. Here are [instructions to obtain a Meraki API key](https://developer.cisco.com/meraki/api-v1/#!authorization/obtaining-your-meraki-api-key).

    **Lenovo API keys**: Lenovo provides a warranty lookup API key to customers requesting it through their Sales or Support Account Representatives.

    ** IBM API keys**: Log in to your [IBM account](https://login.ibm.com/authsvc/mtfim/sps/authsvc?PolicyId=urn:ibm:security:authentication:asf:basicldapuser&Target=https%3A%2F%2Flogin.ibm.com%2Foidc%2Fendpoint%2Fdefault%2Fauthorize%3FqsId%3D18d7b5a9-bbe1-4d66-9e31-57a48ef148c5%26client_id%3DOGMyMGQ1MzQtZDFhYi00) for warranty lookup information.

    **Note:** If using the standalone warranty script (instructions in  the _STANDALONE_ section below), Python 2.7 must be installed along with the python library requests.

### Secure Communication Details

Both the UI and the warranty script transmit the same information (relevant serial number(s)) to the appropriate vendor via port 443 SSL, including the API key entered into Device42 for this purpose _only_ if required by the vendor (Dell/Meraki). Payload looks as follows:

```
payload = {'id': inline_serials, 'apikey': self.api_key, 'accept': 'Application/json'}
```

Warranty lookup queries the APIs at the following URLs:

```
Dell - apigtwb2c.us.dell.com https port 443
Lenovo/IBM - support.lenovo.com https port 443
Meraki - api.meraki.com https port 443
```

## Configuring a Job / API Key Example

1. Select _Discovery > Warranty Sync_ from the main menu, then click _Add Warranty Check_ and name your job.
2. Select a vendor:
    
    For Dell or Meraki, be sure to enter your matching API key (see _API Keys_ section above for details on obtaining a Dell/Meraki API key). If you select Dell, be sure to select the API Version from the drop-down list (current default is Version 5).
    
    For IBM/Lenovo, you are required to be a large enterprise customer and will need to contact your sales representative who will put you in contact with the correct team for the API key.
    
3. You can add your API key right from this screen. Click the magnifying glass on the _Access Key_ field, and in the upper right of the window that opens, click _Add Password_ and add your key as shown below. Repeat these steps for the _Secret Key_ if necessary.
4. Choose your Order Number Generation and Debug Level options, set a schedule if desired, and save the job.
5. Go ahead and run the job!

<ThemedImage
  alt="Add API key"
  sources={{
    light: useBaseUrl('/assets/images/discover-warranty-api-key-light.png'),
    dark: useBaseUrl('/assets/images/discover-warranty-api-key-dark.png'),
  }}
/>

As long as your API key is active, and devices have a valid model, vendor, and serial information the sync will gather warranty information. On each device in the _LifeCycle_ tab or in _Infrastructure > Purchases_, you will find past and present warranty information. This includes order details, contract/service types, and dates.

![](/assets/images/WEB-598_warranty-ad-purchase-support-tab.png)

## If you are using the STANDALONE Warranty Script:

1. Create a working directory. Copy the files from [Device42’s GitHub `warranty_check` Repo](https://github.com/device42/warranty_check/)
2. Copy the file _warranty.cfg.example_ to _warranty.cfg_
3. Set the required parameters in warranty.cfg _[D42 instance info & API keys]_:

<ThemedImage
  alt="Warranty script"
  sources={{
    light: useBaseUrl('/assets/images/discovery-warranty-script-light.png'),
    dark: useBaseUrl('/assets/images/discovery-warranty-script-dark.png'),
  }}
/>

4. Run the script! `$ python starter.py`

## Obtaining the Standalone Script (note: may be deprecated in the future)

As noted above, this functionality is now built into the main UI:

The latest version of the standalone script can be [downloaded from GitHub](https://codeload.github.com/device42/warranty_check/zip/refs/heads/master)

## Cisco Support API Info

:::info
The required Cisco API, SN2INFO, is not available by default and access needs to be requested from Cisco.
:::

Cisco discovery specifically uses Cisco’s Support API labeled `Serial Number to Information`. The endpoint used is: 
`https://apix.cisco.com/sn2info/v2/coverage/summary/serial_numbers/{sr_no,sr_no,sr_no}.`

Click this link for more information: [![](https://static.production.devnetcloud.com/images/favicon.ico)Cisco Developer](https://developer.cisco.com/docs/support-apis/#!serial-number-to-information/get-coverage-summary-by-serial-numbers)

If you have questions on getting access to the Cisco Support APIs, you can do so by registering an application on the Cisco API Console. You should have only the Client Credentials checkbox selected and nothing else. This should allow you to use your client ID and secret to generate a authorization token using oauth2.0 to make requests to the API.

Click this link for more information: [![](https://static.production.devnetcloud.com/images/favicon.ico)Cisco Developer](https://developer.cisco.com/docs/support-apis/#!application-registration/application-registration)

The App Registration form in the Cisco API console is where a majority of the configuration is needed to get Cisco warranty discovery working.

The "Application Type" should be a "Service".

The API should be enabled and will be displayed in the "My Apps & Keys" section.


## Meraki Details

For Meraki warranty discovery, they require that a user has all access points with corresponding serial numbers and hardware model set to "Meraki" as vendor prior to sync.
